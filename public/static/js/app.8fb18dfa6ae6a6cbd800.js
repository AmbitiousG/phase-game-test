webpackJsonp([1],[,,,,function(t,i,e){"use strict";e.d(i,"z",function(){return n}),e.d(i,"t",function(){return s}),e.d(i,"p",function(){return a}),e.d(i,"w",function(){return r}),e.d(i,"q",function(){return l}),e.d(i,"x",function(){return p}),e.d(i,"y",function(){return u}),e.d(i,"r",function(){return m}),e.d(i,"s",function(){return g}),e.d(i,"n",function(){return f}),e.d(i,"o",function(){return b}),e.d(i,"u",function(){return v}),e.d(i,"v",function(){return k}),e.d(i,"m",function(){return w}),e.d(i,"g",function(){return x}),e.d(i,"c",function(){return C}),e.d(i,"j",function(){return D}),e.d(i,"d",function(){return K}),e.d(i,"k",function(){return S}),e.d(i,"l",function(){return T}),e.d(i,"e",function(){return q}),e.d(i,"f",function(){return I}),e.d(i,"a",function(){return z}),e.d(i,"b",function(){return N}),e.d(i,"h",function(){return W}),e.d(i,"i",function(){return E});for(var n=96,s=108,a=120,r=132,h=[],o=[],c=[],y=[],d=1;d<9;d++)h.push(n+d),o.push(s+d),c.push(a+d),y.push(r+d);for(var l=14,p="walkUp",u=h,m="walkLeft",g=o,f="walkDown",b=c,v="walkRight",k=y,w=0,x=12,C=24,D=36,P=[],R=[],A=[],B=[],d=1;d<7;d++)P.push(w+d),R.push(x+d),A.push(C+d),B.push(D+d);var K=8,S="specialCastUp",T=P,q="specialCastLeft",I=R,z="specialCastDown",N=A,W="specialCastRight",E=B},function(t,i){t.exports=_},,,,,function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),new(e(11).a)},function(t,i,e){"use strict";var n=e(0),s=e.n(n),a=e(1),r=e.n(a),h=e(24),o=e(25),c=e(26),y=e(27),d=e(5),l=e.n(d),p=(e(4),function(){function t(){var i=this;s()(this,t),this.npcs=[],this.player=null,this.cursors=null,this.tank=null,this.bullets=[],this.game=new Phaser.Game(960,640,Phaser.AUTO,"",{preload:function(){i.preload()},create:function(){i.create()},update:function(){i.update()}})}return r()(t,[{key:"preload",value:function(){this.game.load.spritesheet("man","static/character.png",64,64,-1,1),this.game.load.spritesheet("woman","static/woman.png",64,64,-1,1),this.game.load.tilemap("mapConfig","static/map3.json",null,Phaser.Tilemap.TILED_JSON),this.game.load.image("map","static/General Sprites.png"),this.game.load.spritesheet("general","static/General Sprites.png",16,16),this.game.load.spritesheet("bullets","static/General Sprites.png",8,16)}},{key:"create",value:function(){var t=this;this.map=this.game.add.tilemap("mapConfig"),this.map.addTilesetImage("map"),this.tank=new c.a(this.game),this.waterBg=this.game.add.tileSprite(160,112,176,16,"general",91),this.game.physics.arcade.enable(this.waterBg),this.waterBg.animations.add("wave",[91,92]),this.waterBg.animations.play("wave",5,!0),this.waterBg.body.immovable=!0,this.layer=this.map.createLayer("brick"),this.map.setCollision([17,66,92,93,70]),this.layer.resizeWorld(),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.Bullets=this.game.add.group(),this.count=0;var i="right";this.game.time.events.loop(1e3,function(){switch(t.count>3&&(t.count=0),t.count){case 0:i="right";break;case 1:i="down";break;case 2:i="left";break;case 3:i="top"}t.count++,t.bullets.push(new y.a(t.game,{x:0,y:0,direction:i})),t.Bullets.add(l.a.last(t.bullets).entity)}),this.player=new o.a(this.game),this.npcs.push(new h.a(this.game))}},{key:"update",value:function(){for(var t=this,i=0;i<this.npcs.length;i++){var e=this.npcs[i];e.update(),this.game.physics.arcade.collide(this.player.player,e.npc,function(i,e){l.a.find(t.npcs,{npc:e}).restart()}),this.game.physics.arcade.collide(e.npc,l.a.map(this.npcs,"npc"),function(i,e){var n=l.a.find(t.npcs,{npc:i});n&&n.restart();var s=l.a.find(t.npcs,{npc:e});s&&s.restart()})}this.game.physics.arcade.collide(this.tank.entity,l.a.map(this.npcs,"npc"),function(i,e){var n=l.a.find(t.npcs,{npc:e});n&&n.restart()}),this.game.physics.arcade.collide(this.tank.entity,[this.layer,this.waterBg],function(t,i){}),this.game.physics.arcade.collide(this.Bullets,[this.layer,this.tank.entity],function(t,i){t.kill()}),this.tank.update(),this.player.update()}}]),t}());i.a=p},,,,,,,,,,,,,function(t,i,e){"use strict";function n(){return y.a.sample([o.z,o.t,o.p,o.w])}var s=e(0),a=e.n(s),r=e(1),h=e.n(r),o=e(4),c=e(5),y=e.n(c),d=function(){function t(i,e){a()(this,t);var s=void 0,r=void 0;this.game=i,s=i.rnd.integerInRange(0,i.world.width-65),r=i.rnd.integerInRange(0,i.world.height-65),e&&(s=e.x,r=e.y),this.npc=i.add.sprite(s,r,"man",n()),this.game.physics.enable(this.npc,Phaser.Physics.ARCADE),this.npc.body.collideWorldBounds=!0,this.npc.animations.add(o.x,o.y,o.q,!0),this.npc.animations.add(o.r,o.s,o.q,!0),this.npc.animations.add(o.n,o.o,o.q,!0),this.npc.animations.add(o.u,o.v,o.q,!0),this.npc.animations.add(o.k,o.l,o.d,!1).onComplete.add(this.restart,this),this.npc.animations.add(o.e,o.f,o.d,!1).onComplete.add(this.restart,this),this.npc.animations.add(o.a,o.b,o.d,!1).onComplete.add(this.restart,this),this.npc.animations.add(o.h,o.i,o.d,!1).onComplete.add(this.restart,this),this.timer=this.game.time.create(!1),this.start()}return h()(t,[{key:"start",value:function(){var t=this;this.timer&&this.timer.stop(!0);var i=this.game.rnd.integerInRange(500,1500);this.playDuration=this.game.rnd.integerInRange(2e3,4e3),this.animName=this.game.rnd.pick([o.x,o.r,o.n,o.u,o.k,o.e,o.a,o.h]),this.timer.loop(Phaser.Timer.QUARTER,function(){t.playDuration-=Phaser.Timer.QUARTER}),this.timer.add(i,function(){t.playAnim(t.animName)}),this.timer.start()}},{key:"playAnim",value:function(t){switch(t){case o.x:this.npc.body.velocity.x=0,this.npc.body.velocity.y=-230;break;case o.r:this.npc.body.velocity.x=-230,this.npc.body.velocity.y=0;break;case o.n:this.npc.body.velocity.x=0,this.npc.body.velocity.y=230;break;case o.u:this.npc.body.velocity.x=230,this.npc.body.velocity.y=0;break;case o.k:case o.e:case o.a:case o.h:this.npc.body.reset(this.npc.x,this.npc.y)}this.npc.play(t)}},{key:"restart",value:function(){var t=this.npc.animations.currentAnim;switch(t.stop(),this.npc.body.reset(this.npc.x,this.npc.y),t.name){case o.x:this.npc.frame=o.z;break;case o.r:this.npc.frame=o.t;break;case o.n:this.npc.frame=o.p;break;case o.u:this.npc.frame=o.w;break;case o.k:this.npc.frame=o.m;break;case o.e:this.npc.frame=o.g;break;case o.a:this.npc.frame=o.c;break;case o.h:this.npc.frame=o.j}this.start()}},{key:"update",value:function(){var t=this.npc.animations.currentAnim,i=-1!=y.a.indexOf([o.k,o.e,o.a,o.h]),e=this.playDuration<=0;t.isPlaying&&(e&&!i||0==this.npc.x&&t.name==o.r||0==this.npc.y&&t.name==o.x||this.npc.y==this.game.world.height-this.npc.body.height&&t.name==o.n||this.npc.x==this.game.world.width-this.npc.body.width&&t.name==o.u?this.restart():this.playAnim(this.animName))}}]),t}();i.a=d},function(t,i,e){"use strict";var n=e(0),s=e.n(n),a=e(1),r=e.n(a),h=e(4),o=e(5),c=(e.n(o),function(){function t(i,e){var n=this;s()(this,t);this.game=i,i.rnd.integerInRange(0,i.world.width-65),i.rnd.integerInRange(0,i.world.height-65),e&&(e.x,e.y),this.player=this.game.add.sprite(200,200,"woman",h.t),this.game.physics.arcade.enable(this.player),this.player.body.collideWorldBounds=!0,this.player.animations.add(h.x,h.y,h.q,!0),this.player.animations.add(h.r,h.s,h.q,!0),this.player.animations.add(h.n,h.o,h.q,!0),this.player.animations.add(h.u,h.v,h.q,!0),this.player.animations.add(h.k,h.l,h.d,!1).onComplete.add(function(){n.specialCasting=!1}),this.player.animations.add(h.e,h.f,h.d,!1).onComplete.add(function(){n.specialCasting=!1}),this.player.animations.add(h.a,h.b,h.d,!1).onComplete.add(function(){n.specialCasting=!1}),this.player.animations.add(h.h,h.i,h.d,!1).onComplete.add(function(){n.specialCasting=!1}),this.keys=this.game.input.keyboard.addKeys({up:Phaser.KeyCode.UP,down:Phaser.KeyCode.DOWN,left:Phaser.KeyCode.LEFT,right:Phaser.KeyCode.RIGHT,sc:Phaser.KeyCode.J}),this.specialCasting=!1}return r()(t,[{key:"update",value:function(){this.player.body.velocity.x=0,this.player.body.velocity.y=0,this.keys.up.isDown?(this.player.body.velocity.x=0,this.player.body.velocity.y=-80,this.player.body.touching.up&&this.player.body.reset(this.player.x,this.player.y),this.player.animations.play(h.x),this.currentDirection=h.z):this.keys.left.isDown?(this.player.body.velocity.x=-80,this.player.body.velocity.y=0,this.player.body.touching.left&&this.player.reset(this.player.x,this.player.y),this.player.animations.play(h.r),this.currentDirection=h.t):this.keys.down.isDown?(this.player.body.velocity.x=0,this.player.body.velocity.y=80,this.player.body.touching.down&&this.player.reset(this.player.x,this.player.y),this.player.animations.play(h.n),this.currentDirection=h.p):this.keys.right.isDown?(this.player.body.velocity.x=80,this.player.body.velocity.y=0,this.player.body.touching.right&&this.player.reset(this.player.x,this.player.y),this.player.animations.play(h.u),this.currentDirection=h.w):this.keys.sc.isDown||this.specialCasting?(this.specialCasting=!0,this.player.animations.play(this.getSpecialCastName())):this.player.frame=this.currentDirection}},{key:"getSpecialCastName",value:function(){return this.currentDirection==h.z?h.k:this.currentDirection==h.t?h.e:this.currentDirection==h.p?h.a:this.currentDirection==h.w?h.h:void 0}}]),t}());i.a=c},function(t,i,e){"use strict";var n=e(0),s=e.n(n),a=e(1),r=e.n(a),h=function(){function t(i,e){s()(this,t),this.game=i,this.entity=this.game.add.sprite(100,100,"general",0),this.game.physics.arcade.enable(this.entity),this.entity.body.collideWorldBounds=!0,this.entity.body.setSize(15,15,0,0),this.entity.animations.add("up",[0,1],10,!0),this.entity.animations.add("left",[2,3],10,!0),this.entity.animations.add("down",[4,5],10,!0),this.entity.animations.add("right",[6,7],10,!0),this.currentDirection=null,this.keys=this.game.input.keyboard.addKeys({up:Phaser.KeyCode.W,down:Phaser.KeyCode.S,left:Phaser.KeyCode.A,right:Phaser.KeyCode.D,sc:Phaser.KeyCode.J})}return r()(t,[{key:"update",value:function(){this.entity.body.velocity.x=0,this.entity.body.velocity.y=0,this.keys.up.isDown?(this.entity.body.velocity.x=0,this.entity.body.velocity.y=-100,this.entity.body.touching.up&&this.entity.body.reset(this.entity.x,this.entity.y),this.entity.animations.play("up"),this.currentDirection=1):this.keys.left.isDown?(this.entity.body.velocity.x=-100,this.entity.body.velocity.y=0,this.entity.body.touching.left&&this.entity.reset(this.entity.x,this.entity.y),this.entity.animations.play("left"),this.currentDirection=3):this.keys.down.isDown?(this.entity.body.velocity.x=0,this.entity.body.velocity.y=100,this.entity.body.touching.down&&this.entity.reset(this.entity.x,this.entity.y),this.entity.animations.play("down"),this.currentDirection=5):this.keys.right.isDown?(this.entity.body.velocity.x=100,this.entity.body.velocity.y=0,this.entity.body.touching.right&&this.entity.reset(this.entity.x,this.entity.y),this.entity.animations.play("right"),this.currentDirection=7):this.entity.frame=this.currentDirection}}]),t}();i.a=h},function(t,i,e){"use strict";var n=e(0),s=e.n(n),a=function t(i,e){s()(this,t);var n=e.direction;e.x,e.y;switch(this.vx=this.vy=0,n){case"top":this.direction=340,this.vy=-60;break;case"left":this.direction=341,this.vx=-60;break;case"down":this.direction=342,this.vy=60;break;case"right":this.direction=343,this.vx=60;break;default:this.direction=343,this.vx=60}this.game=i,this.entity=this.game.add.sprite(150,50,"bullets",this.direction),this.game.physics.arcade.enable(this.entity),this.entity.body.collideWorldBounds=!0,this.entity.lifespan=1e4,this.entity.body.velocity.x=this.vx,this.entity.body.velocity.y=this.vy};i.a=a}],[10]);